{"version":3,"sources":["utils/imagesAPI.js","components/loader.js","components/searchBar.js","components/imageGalleryItem.js","components/modal.js","components/imageGallery.js","components/error.js","components/loadMoreButton.js","App.js","index.js"],"names":["searchQuery","page","key","axios","get","then","res","data","hits","Spinner","type","color","height","width","timeout","React","Component","SearchBar","state","inputValue","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","className","this","autocomplete","autofocus","placeholder","onChange","ImageGalleryItem","webformatURL","src","alt","Modal","handleKeyDown","code","onClose","window","addEventListener","removeEventListener","children","ImageGallerry","images","map","id","largeImageURL","Error","message","LoadMoreButton","handleClick","onClick","App","loading","error","showModal","fetchImages","imagesAPI","prevState","catch","finally","handleSearchSubmit","query","toggleModal","prevProps","prevQuery","nextQuery","prevImages","nextImages","scrollTo","top","document","documentElement","scrollHeight","behavior","length","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.07640922.chunk.js","sourcesContent":["import axios from \"axios\";\r\nconst fetchImagesWithQuery = (\r\n  searchQuery,\r\n  page = 1,\r\n  key = \"17752655-7d1e30d3f189053aec3fab03b\"\r\n) => {\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?q=${searchQuery}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`\r\n    )\r\n    .then((res) => res.data.hits);\r\n};\r\nexport default {\r\n  fetchImagesWithQuery,\r\n};\r\n","import React from \"react\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from \"react-loader-spinner\";\r\nexport default class Spinner extends React.Component {\r\n  render() {\r\n    return (\r\n      <Loader\r\n        type=\"Puff\"\r\n        color=\"#00BFFF\"\r\n        height={100}\r\n        width={100}\r\n        timeout={3000} //3 secs\r\n      />\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nclass SearchBar extends Component {\r\n  state = {\r\n    inputValue: \"\",\r\n  };\r\n  handleChange = (e) => {\r\n    this.setState({\r\n      inputValue: e.target.value,\r\n    });\r\n  };\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.inputValue);\r\n    this.setState({ inputValue: \"\" });\r\n  };\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autocomplete=\"off\"\r\n            autofocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.handleChange}\r\n            value={this.state.inputValue}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchBar;\r\n","import React from \"react\";\r\n\r\nconst ImageGalleryItem = ({ webformatURL }) => (\r\n  <li className=\"ImageGalleryItem\">\r\n    <img src={webformatURL} alt=\"\" className=\"ImageGalleryItem-image\" />\r\n  </li>\r\n);\r\n\r\nexport default ImageGalleryItem;\r\n","import React, { Component } from \"react\";\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n  handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n  render() {\r\n    return (\r\n      <div className=\"Overlay\">\r\n        <div className=\"Modal\">{this.props.children}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Modal;\r\n","import React from \"react\";\r\nimport ImageGalleryItem from \"./imageGalleryItem\";\r\nimport Modal from \"./modal\";\r\n\r\nconst ImageGallerry = ({ images }) => (\r\n  <ul className=\"ImageGallery\">\r\n    {images.map(({ id, webformatURL, largeImageURL }) => (\r\n      <ImageGalleryItem key={id} webformatURL={webformatURL}>\r\n        <Modal>\r\n          <img src={largeImageURL} alt=\"\" />\r\n        </Modal>\r\n      </ImageGalleryItem>\r\n    ))}\r\n  </ul>\r\n);\r\nexport default ImageGallerry;\r\n","import React from \"react\";\r\n\r\nconst Error = ({ message }) => <p>{message}</p>;\r\n\r\nexport default Error;\r\n","import React from \"react\";\r\nconst LoadMoreButton = ({ handleClick }) => (\r\n  <div className=\"container\">\r\n    <button className=\"Button\" type=\"button\" onClick={handleClick}>\r\n      Load more\r\n    </button>\r\n  </div>\r\n);\r\n\r\nexport default LoadMoreButton;\r\n","import React, { Component } from \"react\";\nimport imagesAPI from \"./utils/imagesAPI\";\nimport Spinner from \"./components/loader\";\nimport SearchBar from \"./components/searchBar\";\nimport ImageGallery from \"./components/imageGallery\";\nimport Error from \"./components/error\";\nimport LoadMoreButton from \"./components/loadMoreButton\";\nimport Modal from \"./components/modal\";\nimport \"./styles.css\";\n\nclass App extends Component {\n  state = {\n    images: [],\n    loading: false,\n    error: null,\n    searchQuery: \"\",\n    page: 1,\n    showModal: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevState.searchQuery;\n    const nextQuery = this.state.searchQuery;\n    const prevImages = prevState.images;\n    const nextImages = this.state.images;\n    if (prevQuery !== nextQuery) {\n      this.fetchImages();\n    }\n    if (prevImages !== nextImages) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: \"smooth\",\n      });\n    }\n  }\n  fetchImages = () => {\n    const { searchQuery, page } = this.state;\n    this.setState({\n      loading: true,\n    });\n    imagesAPI\n      .fetchImagesWithQuery(searchQuery, page)\n      .then((images) =>\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...images],\n          page: prevState.page + 1,\n        }))\n      )\n      .catch((error) => this.setState({ error }))\n      .finally(() => this.setState({ loading: false }));\n  };\n  handleSearchSubmit = (query) => {\n    this.setState({\n      searchQuery: query,\n      page: 1,\n      images: [],\n    });\n  };\n  toggleModal = () => {\n    this.setState((prevState) => ({ showModal: !prevState.showModal }));\n  };\n  render() {\n    const { error, loading, images, showModal } = this.state;\n    return (\n      <>\n        <SearchBar onSubmit={this.handleSearchSubmit} />\n        {error && <Error message={`OOPS: ${error.message}`} />}\n        {loading && <Spinner />}\n        {images.length > 0 && <ImageGallery images={images} />}\n        {images.length > 0 && !loading && (\n          <LoadMoreButton handleClick={this.fetchImages} />\n        )}\n        <button type=\"button\" onClick={this.toggleModal}>\n          модалка\n        </button>\n        {showModal && (\n          <Modal onClose={this.toggleModal}>\n            <img\n              src=\"https://pixabay.com/get/55e2d1424d57b108f5d0846096293079103dd8e0564c704f752d7bd39e4bc751_1280.jpg\"\n              alt=\"\"\n            />\n            <button type=\"button\" onClick={this.toggleModal}>\n              Close\n            </button>\n          </Modal>\n        )}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}